<html>
<head>
    <title>Javascript client demo</title>
    <script src="js/sjcl.js"></script>
    <script src="js/nacl.min.js"></script>
    <script src="js/nacl-util.min.js"></script>
    <script src="js/lighttor.js"></script>
    <meta charset="UTF-8"> 
</head>
<body>
    <pre id='loaded'>Nothing to see here! </pre>
    <pre id='consensus'>Number of routers: </pre>
    <pre id='guard'>Guard identity is: </pre>

    <script>
        document.getElementById('loaded').innerHTML += 'Loaded!';

        endpoint = lighttor.endpoint('localhost')
        lighttor.get.consensus(endpoint,
            function(endpoint)
            {
                nb = endpoint.consensus.routers.length
                document.getElementById('consensus').innerHTML += nb.toString()
            })

        lighttor.get.guard(endpoint,
            function(endpoint)
            {
                identity = endpoint.guard.router.identity
                document.getElementById('guard').innerHTML += identity
            })
    </script>
</body>
</html>
